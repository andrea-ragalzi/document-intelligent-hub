# SonarQube Project Configuration
# https://docs.sonarqube.org/latest/analysis/analysis-parameters/

sonar.projectKey=document-intelligent-hub
sonar.projectName=Document Intelligent Hub
sonar.projectVersion=1.0.0

# Source directories
sonar.sources=backend/app,frontend/app,frontend/components,frontend/hooks,frontend/lib,frontend/stores,frontend/contexts
sonar.tests=backend/tests,frontend/test

# Exclusions
sonar.exclusions=**/node_modules/**,**/__pycache__/**,**/chroma_db/**,**/dist/**,**/.next/**,**/coverage/**,**/htmlcov/**

# Python specific
sonar.python.version=3.12

# TypeScript/JavaScript specific
sonar.typescript.lcov.reportPaths=frontend/coverage/lcov.info
sonar.javascript.lcov.reportPaths=frontend/coverage/lcov.info

# Issue exclusions (suppress false positives)

# Modal backdrop patterns - legitimate onClick with stopPropagation
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S6879
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*Modal*.tsx,**/Sidebar.tsx,**/DocumentList.tsx,**/UseCaseSelector.tsx,**/OutputLanguageSelector.tsx

# ARIA role="button" on div - valid pattern for complex interactive elements
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S6a88
sonar.issue.ignore.multicriteria.e2.resourceKey=**/ConversationList.tsx,**/DocumentList.tsx,**/Sidebar.tsx,**/UploadModal.tsx

# Deprecated useChat - external library, not under our control
sonar.issue.ignore.multicriteria.e3.ruleKey=typescript:S1874
sonar.issue.ignore.multicriteria.e3.resourceKey=**/useChatAI.ts

# Test nesting depth - standard Vitest mocking patterns
sonar.issue.ignore.multicriteria.e4.ruleKey=typescript:S134
sonar.issue.ignore.multicriteria.e4.resourceKey=**/*.test.tsx,**/*.test.ts

# FastAPI async without await - Firebase SDK is synchronous
sonar.issue.ignore.multicriteria.e5.ruleKey=python:S1234
sonar.issue.ignore.multicriteria.e5.resourceKey=**/usage_tracking_service.py,**/test_registration_setup.py

# Synchronous file I/O - short-lived operations acceptable
sonar.issue.ignore.multicriteria.e6.ruleKey=python:S1234
sonar.issue.ignore.multicriteria.e6.resourceKey=**/support_router.py,**/document_indexing_service.py

# Cognitive complexity - email templates have inherent complexity
sonar.issue.ignore.multicriteria.e7.ruleKey=python:S3776
sonar.issue.ignore.multicriteria.e7.resourceKey=**/email_service.py,**/usage_tracking_service.py

# Firebase type stubs incomplete
sonar.issue.ignore.multicriteria.e8.ruleKey=python:*
sonar.issue.ignore.multicriteria.e8.resourceKey=**/usage_tracking_service.py
