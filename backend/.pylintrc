# Standard Pylint configuration file (.pylintrc)
# This configuration balances code quality, readability,
# and compatibility with modern Python development (monorepo).

[MASTER]
# Modules that Pylint should skip (typically generated or third-party)
# Add your virtual environment folders (.venv) and configuration files here
ignore = .venv, node_modules, setup.py, __init__.py, manage.py, chroma_db, htmlcov, __pycache__, logs

# Maximum number of threads to use (speeds up analysis on large projects)
jobs = 0

[MESSAGES CONTROL]
# Disable error or warning IDs that you want to specifically ignore.
# Codes are categorized (R=Refactoring, C=Conventions, W=Warnings, E=Errors)
disable=
    # CONVENTION (C): Style rules that are often too rigid or enforce non-standard style
    C0103,  # Invalid name: (Allows more flexible names like 'e' for exceptions)
    C0114,  # Missing module docstring: (Often unnecessary for small monorepo modules)
    C0115,  # Missing class docstring: (Not always needed for simple classes)
    C0116,  # Missing function or method docstring: (Not always needed for trivial methods)
    C0201,  # Consider using 'enumerate' instead of 'range(len(x))' (Sometimes range(len) is clearer)

    # REFACTORING (R): Rules suggesting code structure changes
    R0901,  # Too many ancestor classes
    R0902,  # Too many instance attributes
    R0904,  # Too many public methods (R904)
    R0912,  # Too many branches (complexity)
    R0914,  # Too many local variables
    R0915,  # Too many statements (too long)

    # WARNING (W): Warnings that can be ignored or are handled by other tools
    W0511,  # fixme/todo (left for user)
    W0613,  # Unused argument (often in callbacks or interfaces)
    W1203,  # Use f-string (sometimes logging doesn't support them, but it's a good rule)

    # PROJECT-SPECIFIC: Acceptable patterns in our codebase
    duplicate-code,           # Normal patterns in test suites
    too-few-public-methods,   # Test helper classes don't need many methods
    too-many-locals,          # Integration tests with many setup variables
    import-outside-toplevel,  # Intentional lazy imports
    redefined-outer-name,     # Pytest fixture parameter pattern
    stop-iteration-return     # False positive in cleanup code

# Enable checks that Pylint sometimes disables by default
enable=
    W0614,  # Unused import from wildcard 'from x import *'
    R0401,  # Cyclic import
    W0105   # String statement has no effect (common docstring misplacement error)

[DESIGN]
# ----------------------------------------------------------------------
# Design and Complexity Limitations (R09xx Rules)
# ----------------------------------------------------------------------

# Maximum number of statements in a code block (default: 50)
max-statements = 60

# Maximum number of branches (if/elif/else) allowed per function (default: 12)
max-branches = 13

# Maximum number of local variables allowed per function (default: 15)
max-locals = 20

# Maximum number of arguments allowed per function (default: 5)
max-args = 6

# Maximum number of class or instance attributes
max-attributes = 10

# Maximum number of public methods per class
max-public-methods = 20

# Allow some code duplication in tests
min-similarity-lines = 10

[FORMAT]
# ----------------------------------------------------------------------
# Formatting and Style (C03xx Rules)
# ----------------------------------------------------------------------

# Maximum line length (typically 88 for Black compatibility, 120 for wider displays)
max-line-length = 120

[BASIC]
# ----------------------------------------------------------------------
# Naming Conventions
# ----------------------------------------------------------------------

# Good variable names (single character or short names that are acceptable)
good-names = i, j, k, e, db, id, _

[SIMILARITIES]
# ----------------------------------------------------------------------
# Code Duplication Detection
# ----------------------------------------------------------------------

# Ignore test files for duplication checks
ignore-imports = yes
ignore-docstrings = yes
ignore-comments = yes

[TYPECHECK]
# ----------------------------------------------------------------------
# Type Checking (E11xx)
# ----------------------------------------------------------------------

# Attempt to follow import paths in __init__.py for type resolution
ignored-classes = optparse.Values, threading._Event, types.ModuleType, types.SimpleNamespace

[IMPORTS]
# ----------------------------------------------------------------------
# Imports (E04xx, W06xx)
# ----------------------------------------------------------------------

[MISCELLANEOUS]
# ----------------------------------------------------------------------
# Miscellaneous (W05xx)
# ----------------------------------------------------------------------
notes = FIXME, XXX, TODO
